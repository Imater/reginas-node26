<div id="panel_top">	
</div>

<div id="panel_left" resizable style="width:{{left_panel_width}}px">


	<div id="panel_left_header">
		
	</div>

	<div id="panel_left_content">
		<ng-portlet parent="{{left_parent_id}}"></ng-portlet>
	</div>

	<div id="panel_left_footer">
		<ul>
			<li ng-repeat="left_tab in left_tabs"><span style="background:{{left_tab.color}};z-index:{{5 - $index}}">{{left_tab.title}}</span></li>
		</ul>
	</div>


</div>

<div id="panel_center" style="left:{{left_panel_width}}px">
	<div id="panel_center_header">

	   <div class="make_center">
	  	    <div class="menu_mini">
	  		    <div class="btn-group">
	  		        <button type="button" class="btn btn-cloud btn-default dropdown-toggle" data-toggle="dropdown" ng-class="{ 'synced': sync.did, 'syncing': sync.syncing }">
	  		          <i class="icon-cloud"></i>
	  		          <span class="caret"></span>
	  		        </button>
	  		        <ul class="dropdown-menu">
					  <li role="presentation" class="dropdown-header">Сервер</li>	  		        
	  		          <li ng-click="jsSync()"><a href >Синхронизация</a></li>
					  <li role="presentation" class="divider"></li>	  		        
					  <li role="presentation" class="dropdown-header">Редактор</li>	  		        
	  		          <li><a href="#">Распечатать заметку</a></li>
	  		          <li><a href="#">Поделиться</a></li>
	  		        </ul>
	  		      </div>
	  		    </div>
	  	    </div>	
	

		    <div class="hidden-xs">
				<div class="btn-group btn-group-sm">
				  <button type="button" class="btn active btn-default" data-i18n="header.notes;[title]header.notes_title"></button>
				  <button type="button" class="btn btn-default" data-i18n="header.editor;[title]header.editor_title"></button>
				  <button type="button" class="btn btn-default" data-i18n="header.calendar;[title]header.calendar_title"></button>
				</div>
			</div>
			<div class="visible-xs">
				<div class="btn-group btn-group-sm">
				    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
				      Заметки
				      <span class="caret"></span>
				    </button>
				    <ul class="dropdown-menu">
				      <li><a href="#">Синхронизация</a></li>
				      <li><a href="#">Редактор</a></li>
				      <li><a href="#">Календарь</a></li>
				    </ul>
				  </div>
				</div>

	  	    <div class="menu_mini right">
	  		    <div class="btn-group">
	  		        <button type="button" class="btn btn-box btn-default dropdown-toggle" data-toggle="dropdown">
	  		          <i class="icon-plus"></i>
	  		        </button>
	  		        <ul class="dropdown-menu pull-right">
	  		          <li><a href="#">Добавить заметку</a></li>
	  		          <li><a href="#">Дневник на сегодня</a></li>
	  		          <li><a href="#">Выполненное дело в календарь</a></li>
	  		        </ul>
	  		      </div>
	  		</div>

	  	</div><!-- header -->	

	  	    <div id="panel_path">	 
	  	    	<div class="history_buttons">
		  	    	<i class="icon-left-dir hist_back"></i>
		  	    	<i class="icon-right-dir hist_forward"></i>
	  	    	</div>
	  	    	<ul>
	  	    		<li class="first_path"><a ng-click="openParentId(1)">&nbsp;<i class="icon-home"></i></a></li>
	  	    		<li ng-repeat="path in current_path"><a ng-click="openParentId(path.id)" compile="path.title" ></a></li>
	  	    	</ul>
	  	    </div>


	  	    <div id="panel_fav">	  	    	
	  	    	<ul>
	  	    		<li ng-repeat="favorit in favorits">
	  	    		<i class="{{favorit.icon}}"></i>
	  	    		{{favorit.title}}
	  	    		</li>
	  	    	</ul>
	  	    </div>

	  	    
	  	    <div id="center_content">


	  	      <div id="cards_scrollable"  ng-dblclick="goToParent($event)" ng-click="jsDeselect($event)">
	  	       <div id="cards_container">

	  	    	<div id="cards_header" >
					

		  		    <div class="btn-group col-sm-3">
		  		        <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
		  		          Вид: карточки
					      <span class="caret"></span>
		  		        </button>
		  		        <ul class="dropdown-menu">
						  <li role="presentation" class="dropdown-header">Вид:</li>	  		        
		  		          <li><a href="#"><span class='hot_key'>alt + 1</span>карточки</a></li>
		  		          <li><a href="#"><span class='hot_key'>alt + 2</span>карта ума</a></li>
		  		          <li><a href="#"><span class='hot_key'>alt + 3</span>дерево</a></li>
		  		          <li><a href="#"><span class='hot_key'>alt + 4</span>панели</a></li>
		  		          <li><a href="#"><span class='hot_key'>alt + 5</span>таблица</a></li>
		  		        </ul>

		  		    </div>

		  		    <div class="btn-group col-sm-2" >
		  		        <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
		  		          <i class="icon-shuffle"></i>: вручную
					      <span class="caret"></span>
		  		        </button>
		  		        <ul class="dropdown-menu">
						  <li role="presentation" class="dropdown-header">Сортировать:</li>	  		        
		  		          <li><a href="#">вручную</a></li>
		  		          <li><a href="#">по имени</a></li>
		  		          <li><a href="#">по дате события</a></li>
		  		          <li><a href="#">по дате создания</a></li>
		  		        </ul>
		  		    </div>


					<div class="input-group col-sm-3" id="cards_search">
					      <input id="search_notes" type="text" ng-model="search_string_for_timeout" ng-change="startSearch(search_string_for_timeout)" class="form-control input-sm" placeholder="Искать...">
					  <!-- <eased-input value="search_string" timeout="500" placeholder="Найти..." class="input-sm"/> -->
					      <div class="input-group-btn">
					        <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
					        <ul class="dropdown-menu pull-right">
							  <li role="presentation" class="dropdown-header">Где искать:</li>	  		        
					          <li><a href="#">Везде</a></li>
					          <li><a href="#">В текущей папке</a></li>
					          <li><a href="#">В дневнике</a></li>
					          <li class="divider"></li>
							  <li role="presentation" class="dropdown-header">5 последних поисков:</li>	  		        
					          <li><a href="#">Рыба</a></li>
					          <li><a href="#">Мясо</a></li>
					          <li><a href="#">Как делать конфеты</a></li>
					          <li><a href="#">Запись</a></li>
					          <li><a href="#">Мысли вслух</a></li>
					        </ul>
					      </div><!-- /btn-group -->
					</div><!-- /input-group -->

	  	    	</div>
	  	    	<div style="clear:both;"></div>
		  	    <ul class="cards_list clearfix noselectable" sortable>

	  	    		<li ng-repeat="note in findByParent(parent_id) | filter:parentIdMatch(parent_id) | orderBy: sortByPosition()" class="li_card" style="width:{{(settings.cardWidth/1 + 10)}}px;min-height:{{settings.cardWidth/1.4+10}}px;font-size:{{settings.cardWidth/20}}px" ng-class="{ 'selected': $index == selectedIndex,'card_big': $index == zoomIndex,'card_folder': note.count>0 }" ng-click="liClicked($index)" theindex = "{{$index}}" myid="{{note.id}}">



	  	    			<div class="card_div" sync-on-change>
		  	    			<div class="card_title" ng-dblclick="openParentId(note.id, $event); $event.stopPropagation();">
		  	    				<div ng-click="openParentId(note.id, $event);" class="card_icon">
		  	    					<i class="icon-doc-2"></i>
				  	    			<div class="the_count" ng-bind="note.count=findByParent(note.id,'count')">
				  	    			</div>
		  	    				</div>
		  	    				<div class="title_div" ng-dblclick="openParentId(note.id, $event);">
		  	    					<div class="the_title" contenteditable="true" ng-model="note.title" ng-dblclick="$event.stopPropagation();" ng-click="$event.stopPropagation();">
		  	    					</div>
		  	    				</div>
		  	    			
		  	    			</div>


<div class="card_text thin_scroll" ui-redactor="redactorOptionsMini" ng-model="note.text"
	        ng-click="$event.stopPropagation();" style="height:{{settings.cardWidth/1.4-35}}px;">

	        			

		  	    			</div>
		  	    			<div class="card_footer">	  	    				
		  	    				<i title="Увеличить размер карточки" ng-click="itemClicked($index); $event.stopPropagation();" class="icon-zoom-in left"></i>


		  	    				
		  	    				<i title="Открыть в редакторе" ng-click="openEditor(note.id); $event.stopPropagation();" class="icon-edit-1 right"></i>
		  	    			</div>
		  	    		</div>
	  	    		</li>
		  	    </ul>

		  	    <div id="add_notes" >
   					<input type="range" max = "500" ng-model="settings.cardWidth">

			        <input type="text" class="form-control input-sm" ng-model="add_text" ng-change="addNotesInput(add_text)" placeholder="Добавить заметки разедённые через запятую...">
			    </div>
		        </div>
		  	   </div> <!-- scrollable --> 
		  	</div>






    <div id="center_footer">

	  	<div id="panel_opener_left" ng-click="openPanel('left')">
	  		<i class="icon-right-open-1"></i>
	  	</div>
	  	
	  	<div id="panel_opener_right" ng-click="openPanel('right')">
	  		<i class="icon-left-open-1"></i>
	  	</div>


    </div> <!-- footer -->



<div id="main_editor" ng-show="editor" ng-click="closeEditor($event)"  ng-repeat="note in notes | filter:filterEdit()">
<div id="editor_cont">
	<div class="editor_title" contenteditable="true" strip-br="false"
        select-non-editable="false" ng-model="note.title"></div>

	  	    <div class="menu_mini left">
	  		    <div class="btn-group">
	  		        <button type="button" class="btn btn-box btn-default dropdown-toggle" data-toggle="dropdown">
	  		          <i class="icon-down-dir"></i>
	  		        </button>
	  		        <ul class="dropdown-menu">
					  <li role="presentation" class="dropdown-header">Вставить</li>	  		
	  		          <li><a href="#">Вставить текущую дату</a></li>
	  		          <li><a href="#">Вставить галочку</a></li>
					  <li role="presentation" class="divider"></li>	  		        
					  <li role="presentation" class="dropdown-header">Сервис</li>	  		
	  		          <li><a href="#">История изменений</a></li>
	  		          <li><a href="#">Печать</a></li>
					</ul>
	  		      </div>
	  		</div>


			<div class="btn-group btn-group-sm right_buttons">
			  <button ng-click="fullScreen(); $event.stopPropagation();" type="button" class="btn btn-default"><i class="icon-resize-full"></i></button>
			  <button ng-click="closeEditor($event);$event.stopPropagation();" type="button" class="btn btn-default"><i class="icon-cancel"></i></button>
			</div>
	<div ui-redactor="redactorOptions" ng-model="note.text"></div>
</div>

<!-- <div class="div_editor" ng-repeat="note in notes | filter:filterEdit()" ng-model="note.text"
        strip-br="false"
        select-non-editable="false" contenteditable="true" ng-click="$event.stopPropagation();">
</div>
 -->


</div>


</div> <!-- Panel Center -->


	   </div> 



	</div>

<div id="panel_right">
</div>